!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,a){return void 0===a&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(a),a}:t(jQuery)}(function(t){var e=function(e,a){var n=a||this,i=void 0===t(n).data("decimals")?2:t(n).data("decimals"),o=void 0===t(n).data("thousands_sep")?"number"===n.type?"":",":t(n).data("thousands_sep"),s=void 0===t(n).data("dec_point")?".":t(n).data("dec_point"),u=t(n).data("numfcs")||[],d=n.value;u=["+"];for(var l=0;l<i;l++)u.push(0);for(var r in u.push(0),d){var c=d[r];"+"===c||"-"===c?u[0]=c:/[0-9]/i.test(c)&&u.push(1*c)}d="","-"===u[0]&&(d+="-");for(var f="",v="",h=1;h<u.length;h++)u.length-h<=i?v+=u[h]:f+=u[h];for(var p=(f=1*f+"").length,m=p%3+1,g="",y=0;y<p;y++)--m<=0&&(m=3),y>0&&3===m&&(g+=o),g+=f[y];return d+=g+s+v,e&&e.originalEvent&&e.originalEvent.inputType&&/delete/i.test(e.originalEvent.inputType)&&"0.00"===d&&(d=""),t(n).data("numfcs",u),n.value=d,n.value};t(document).on("keydown",'[data-toggle="numfcs"]',function(t){if("ArrowLeft"===t.key&&!t.shiftKey&&"number"!==this.type)return t.preventDefault(),t.stopImmediatePropagation(),!1}).on("click keyup focus",'[data-toggle="numfcs"]',function(t){if(!t.shiftKey&&!t.ctrlKey&&"Shift"!==t.key&&"Control"!==t.key)try{this.selectionStart=this.selectionEnd=this.value.length}catch(t){}}).on("input",'[data-toggle="numfcs"]',e);var a=null,n=null;t.isPlainObject(t.valHooks.text)?(t.isFunction(t.valHooks.text.get)&&(a=t.valHooks.text.get),t.isFunction(t.valHooks.text.set)&&(n=t.valHooks.text.set)):t.valHooks.text={},t.valHooks.text.get=function(e){return"numfcs"===t(e).data("toggle")?function(e,a){var n=a||this,i=void 0===t(n).data("decimals")?2:t(n).data("decimals"),o=t(n).data("numfcs");if(!o)return n.value;var s="";"-"===o[0]&&(s+="-");for(var u="",d="",l=1;l<o.length;l++)o.length-l<=i?d+=o[l]:u+=o[l];return s+=u*=1,"00"!==d&&(s+="."+d),parseFloat(s)}(0,e):t.isFunction(a)?a(e):void 0},t.valHooks.text.set=function(a,i){var o=a;return"numfcs"===t(o).data("toggle")?(o.value=i,e(null,a)):t.isFunction(n)?n(a,i):void 0},t.fn.numfcs=function(a,n,i,o){t(this).each(function(){var s=void 0!==n?n:void 0===t(this).data("decimals")?2:t(this).data("decimals"),u=void 0!==o?o:void 0===t(this).data("thousands_sep")?"number"===this.type?"":",":t(this).data("thousands_sep"),d=void 0!==i?i:void 0===t(this).data("dec_point")?".":t(this).data("dec_point");t(this).attr("data-toggle","numfcs").data("decimals",s).data("thousands_sep",u).data("dec_point",d),a&&t(this).val(a),""!==this.value&&e(null,this)})},t(document).ready(function(){t('[data-toggle="numfcs"]').each(function(){""!==this.value&&e(null,this)}).change()})});
