!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){var e=function(e,n){var o=n||this,a=t(o).data("decimals")||2,u=t(o).data("thousands_sep")||",",i=t(o).data("thousands_sep")||".",r=t(o).data("numfcs")||[],s=o.value;r=["+"];for(var l=0;l<a;l++)r.push(0);for(var f in r.push(0),s){var c=s[f];"+"===c||"-"===c?r[0]=c:/[0-9]/i.test(c)&&r.push(1*c)}s="","-"===r[0]&&(s+="-");for(var d="",v="",g=1;g<r.length;g++)r.length-g<=a?v+=r[g]:d+=r[g];for(var h=(d=1*d+"").length,p=h%3+1,m="",y=0;y<h;y++)--p<=0&&(p=3),y>0&&3===p&&(m+=u),m+=d[y];return s+=m+i+v,e&&e.originalEvent&&e.originalEvent.inputType&&/delete/i.test(e.originalEvent.inputType)&&"0.00"===s&&(s=""),t(o).data("numfcs",r),o.value=s,o.value};t(document).on("keydown",'[data-toggle="numfcs"]',function(t){if("ArrowLeft"===t.key&&!t.shiftKey)return t.preventDefault(),t.stopImmediatePropagation(),!1}).on("click keyup focus",'[data-toggle="numfcs"]',function(t){if(!t.shiftKey&&!t.ctrlKey&&"Shift"!==t.key&&"Control"!==t.key)try{this.selectionStart=this.selectionEnd=this.value.length}catch(t){}}).on("input",'[data-toggle="numfcs"]',e);var n=null,o=null;t.isPlainObject(t.valHooks.text)?(t.isFunction(t.valHooks.text.get)&&(n=t.valHooks.text.get),t.isFunction(t.valHooks.text.set)&&(o=t.valHooks.text.set)):t.valHooks.text={},t.valHooks.text.get=function(e){return"numfcs"===t(e).data("toggle")?function(e,n){var o=n||this,a=t(o).data("decimals")||2,u=t(o).data("numfcs");if(!u)return o.value;var i="";"-"===u[0]&&(i+="-");for(var r="",s="",l=1;l<u.length;l++)u.length-l<=a?s+=u[l]:r+=u[l];return i+=r*=1,"00"!==s&&(i+="."+s),parseFloat(i)}(0,e):t.isFunction(n)?n(e):void 0},t.valHooks.text.set=function(n,a){var u=n;return"numfcs"===t(u).data("toggle")?(u.value=a,e(null,n)):t.isFunction(o)?o(n,a):void 0},t(document).ready(function(){t('[data-toggle="numfcs"]').each(function(){""!==this.value&&e(null,this)}).change()})});
